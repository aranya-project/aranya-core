---
source: crates/aranya-policy-compiler/src/hir/snapshot_tests.rs
expression: "&snapshot"
---
{
  "hir": {
    "actions": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 1,
            "end": 1
          },
          "ident": {
            "idx": 1,
            "version": 1
          },
          "args": [],
          "block": {
            "idx": 1,
            "version": 1
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 21,
            "end": 21
          },
          "ident": {
            "idx": 2,
            "version": 1
          },
          "args": [
            {
              "idx": 1,
              "version": 1
            }
          ],
          "block": {
            "idx": 2,
            "version": 1
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 3,
            "version": 1
          },
          "span": {
            "start": 88,
            "end": 88
          },
          "ident": {
            "idx": 6,
            "version": 1
          },
          "args": [],
          "block": {
            "idx": 3,
            "version": 1
          }
        },
        "version": 1
      }
    ],
    "action_args": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": {
            "idx": 3,
            "version": 1
          },
          "ty": {
            "idx": 1,
            "version": 1
          }
        },
        "version": 1
      }
    ],
    "cmds": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 109,
            "end": 109
          },
          "ident": {
            "idx": 7,
            "version": 1
          },
          "fields": [],
          "seal": {
            "idx": 4,
            "version": 1
          },
          "open": {
            "idx": 5,
            "version": 1
          },
          "policy": {
            "idx": 6,
            "version": 1
          },
          "recall": {
            "idx": 7,
            "version": 1
          }
        },
        "version": 1
      }
    ],
    "cmd_fields": [
      {
        "value": null,
        "version": 0
      }
    ],
    "effects": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 191,
            "end": 191
          },
          "ident": {
            "idx": 8,
            "version": 1
          },
          "items": [
            {
              "idx": 1,
              "version": 1
            },
            {
              "idx": 2,
              "version": 1
            }
          ]
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 245,
            "end": 245
          },
          "ident": {
            "idx": 11,
            "version": 1
          },
          "items": []
        },
        "version": 1
      }
    ],
    "effect_fields": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "Field": {
              "ident": {
                "idx": 9,
                "version": 1
              },
              "ty": {
                "idx": 2,
                "version": 1
              }
            }
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "Field": {
              "ident": {
                "idx": 10,
                "version": 1
              },
              "ty": {
                "idx": 3,
                "version": 1
              }
            }
          }
        },
        "version": 1
      }
    ],
    "enums": [
      {
        "value": null,
        "version": 0
      }
    ],
    "facts": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 283,
            "end": 283
          },
          "ident": {
            "idx": 12,
            "version": 1
          },
          "keys": [
            {
              "idx": 1,
              "version": 1
            },
            {
              "idx": 2,
              "version": 1
            }
          ],
          "vals": [
            {
              "idx": 1,
              "version": 1
            }
          ]
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 321,
            "end": 321
          },
          "ident": {
            "idx": 16,
            "version": 1
          },
          "keys": [],
          "vals": []
        },
        "version": 1
      }
    ],
    "fact_keys": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": {
            "idx": 13,
            "version": 1
          },
          "ty": {
            "idx": 4,
            "version": 1
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": {
            "idx": 14,
            "version": 1
          },
          "ty": {
            "idx": 5,
            "version": 1
          }
        },
        "version": 1
      }
    ],
    "fact_vals": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": {
            "idx": 15,
            "version": 1
          },
          "ty": {
            "idx": 6,
            "version": 1
          }
        },
        "version": 1
      }
    ],
    "finish_funcs": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 368,
            "end": 368
          },
          "ident": {
            "idx": 17,
            "version": 1
          },
          "args": [],
          "block": {
            "idx": 8,
            "version": 1
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 395,
            "end": 395
          },
          "ident": {
            "idx": 18,
            "version": 1
          },
          "args": [],
          "block": {
            "idx": 9,
            "version": 1
          }
        },
        "version": 1
      }
    ],
    "finish_func_args": [
      {
        "value": null,
        "version": 0
      }
    ],
    "funcs": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 500,
            "end": 500
          },
          "ident": {
            "idx": 23,
            "version": 1
          },
          "args": [],
          "result": {
            "idx": 7,
            "version": 1
          },
          "block": {
            "idx": 10,
            "version": 1
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 535,
            "end": 535
          },
          "ident": {
            "idx": 24,
            "version": 1
          },
          "args": [],
          "result": {
            "idx": 8,
            "version": 1
          },
          "block": {
            "idx": 11,
            "version": 1
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 3,
            "version": 1
          },
          "span": {
            "start": 573,
            "end": 573
          },
          "ident": {
            "idx": 25,
            "version": 1
          },
          "args": [],
          "result": {
            "idx": 9,
            "version": 1
          },
          "block": {
            "idx": 12,
            "version": 1
          }
        },
        "version": 1
      }
    ],
    "func_args": [
      {
        "value": null,
        "version": 0
      }
    ],
    "global_lets": [
      {
        "value": null,
        "version": 0
      }
    ],
    "structs": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 614,
            "end": 614
          },
          "ident": {
            "idx": 27,
            "version": 1
          },
          "items": [
            {
              "idx": 1,
              "version": 1
            },
            {
              "idx": 2,
              "version": 1
            }
          ]
        },
        "version": 1
      }
    ],
    "struct_fields": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "Field": {
              "ident": {
                "idx": 28,
                "version": 1
              },
              "ty": {
                "idx": 10,
                "version": 1
              }
            }
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "Field": {
              "ident": {
                "idx": 29,
                "version": 1
              },
              "ty": {
                "idx": 11,
                "version": 1
              }
            }
          }
        },
        "version": 1
      }
    ],
    "stmts": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 49,
            "end": 49
          },
          "kind": {
            "ActionCall": {
              "ident": {
                "idx": 4,
                "version": 1
              },
              "args": []
            }
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 70,
            "end": 70
          },
          "kind": {
            "Publish": {
              "exor": {
                "idx": 1,
                "version": 1
              }
            }
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 3,
            "version": 1
          },
          "span": {
            "start": 149,
            "end": 149
          },
          "kind": {
            "Return": {
              "expr": {
                "idx": 2,
                "version": 1
              }
            }
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 4,
            "version": 1
          },
          "span": {
            "start": 174,
            "end": 174
          },
          "kind": {
            "Return": {
              "expr": {
                "idx": 3,
                "version": 1
              }
            }
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 5,
            "version": 1
          },
          "span": {
            "start": 425,
            "end": 425
          },
          "kind": {
            "FunctionCall": {
              "ident": {
                "idx": 19,
                "version": 1
              },
              "args": []
            }
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 6,
            "version": 1
          },
          "span": {
            "start": 437,
            "end": 437
          },
          "kind": {
            "Delete": {
              "fact": {
                "ident": {
                  "idx": 20,
                  "version": 1
                },
                "keys": [
                  [
                    {
                      "idx": 21,
                      "version": 1
                    },
                    {
                      "Expr": {
                        "idx": 4,
                        "version": 1
                      }
                    }
                  ],
                  [
                    {
                      "idx": 22,
                      "version": 1
                    },
                    {
                      "Expr": {
                        "idx": 5,
                        "version": 1
                      }
                    }
                  ]
                ],
                "vals": []
              }
            }
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 7,
            "version": 1
          },
          "span": {
            "start": 523,
            "end": 523
          },
          "kind": {
            "Return": {
              "expr": {
                "idx": 6,
                "version": 1
              }
            }
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 8,
            "version": 1
          },
          "span": {
            "start": 559,
            "end": 559
          },
          "kind": {
            "Return": {
              "expr": {
                "idx": 7,
                "version": 1
              }
            }
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 9,
            "version": 1
          },
          "span": {
            "start": 596,
            "end": 596
          },
          "kind": {
            "Return": {
              "expr": {
                "idx": 8,
                "version": 1
              }
            }
          }
        },
        "version": 1
      }
    ],
    "exprs": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "NamedStruct": {
              "ident": {
                "idx": 5,
                "version": 1
              },
              "fields": []
            }
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "Optional": null
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 3,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "Optional": null
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 4,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "Int": 42
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 5,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "String": "test"
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 6,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "Int": 42
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 7,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "Bool": true
          }
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 8,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": {
            "FunctionCall": {
              "ident": {
                "idx": 26,
                "version": 1
              },
              "args": []
            }
          }
        },
        "version": 1
      }
    ],
    "idents": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "action1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "action2"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 3,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "x"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 4,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "action1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 5,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "Cmd1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 6,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "action3"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 7,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "Cmd1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 8,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "Effect1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 9,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "field1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 10,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "field2"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 11,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "Effect2"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 12,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "Fact1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 13,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "a"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 14,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "b"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 15,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "c"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 16,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "Fact2"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 17,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "func4"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 18,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "func5"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 19,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "func4"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 20,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "Fact1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 21,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "a"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 22,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "b"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 23,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "func1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 24,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "func2"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 25,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "func3"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 26,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "func1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 27,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "Struct1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 28,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "field1"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 29,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "ident": "field2"
        },
        "version": 1
      }
    ],
    "blocks": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "stmts": []
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 49,
            "end": 49
          },
          "stmts": [
            {
              "idx": 1,
              "version": 1
            },
            {
              "idx": 2,
              "version": 1
            }
          ]
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 3,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "stmts": []
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 4,
            "version": 1
          },
          "span": {
            "start": 149,
            "end": 149
          },
          "stmts": [
            {
              "idx": 3,
              "version": 1
            }
          ]
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 5,
            "version": 1
          },
          "span": {
            "start": 174,
            "end": 174
          },
          "stmts": [
            {
              "idx": 4,
              "version": 1
            }
          ]
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 6,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "stmts": []
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 7,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "stmts": []
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 8,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "stmts": []
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 9,
            "version": 1
          },
          "span": {
            "start": 425,
            "end": 425
          },
          "stmts": [
            {
              "idx": 5,
              "version": 1
            },
            {
              "idx": 6,
              "version": 1
            }
          ]
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 10,
            "version": 1
          },
          "span": {
            "start": 523,
            "end": 523
          },
          "stmts": [
            {
              "idx": 7,
              "version": 1
            }
          ]
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 11,
            "version": 1
          },
          "span": {
            "start": 559,
            "end": 559
          },
          "stmts": [
            {
              "idx": 8,
              "version": 1
            }
          ]
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 12,
            "version": 1
          },
          "span": {
            "start": 596,
            "end": 596
          },
          "stmts": [
            {
              "idx": 9,
              "version": 1
            }
          ]
        },
        "version": 1
      }
    ],
    "types": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "id": {
            "idx": 1,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": "Int"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 2,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": "Int"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 3,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": "String"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 4,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": "Int"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 5,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": "String"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 6,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": "Bool"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 7,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": "Int"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 8,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": "Bool"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 9,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": "Int"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 10,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": "Bool"
        },
        "version": 1
      },
      {
        "value": {
          "id": {
            "idx": 11,
            "version": 1
          },
          "span": {
            "start": 0,
            "end": 0
          },
          "kind": "Int"
        },
        "version": 1
      }
    ],
    "ffi_imports": [
      {
        "value": null,
        "version": 0
      }
    ],
    "ffi_modules": [
      {
        "value": null,
        "version": 0
      }
    ],
    "ffi_funcs": [
      {
        "value": null,
        "version": 0
      }
    ],
    "ffi_structs": [
      {
        "value": null,
        "version": 0
      }
    ],
    "ffi_enums": [
      {
        "value": null,
        "version": 0
      }
    ]
  },
  "ast_nodes": {
    "actions": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "inner": {
            "identifier": "action1",
            "arguments": [],
            "statements": []
          },
          "locator": 1
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "identifier": "action2",
            "arguments": [
              {
                "identifier": "x",
                "field_type": "Int"
              }
            ],
            "statements": [
              {
                "inner": {
                  "ActionCall": {
                    "identifier": "action1",
                    "arguments": []
                  }
                },
                "locator": 49
              },
              {
                "inner": {
                  "Publish": {
                    "NamedStruct": {
                      "identifier": "Cmd1",
                      "fields": []
                    }
                  }
                },
                "locator": 70
              }
            ]
          },
          "locator": 21
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "identifier": "action3",
            "arguments": [],
            "statements": []
          },
          "locator": 88
        },
        "version": 1
      }
    ],
    "action_args": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "identifier": "x",
          "field_type": "Int"
        },
        "version": 1
      }
    ],
    "cmds": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "inner": {
            "attributes": [],
            "identifier": "Cmd1",
            "fields": [],
            "seal": [
              {
                "inner": {
                  "Return": {
                    "expression": {
                      "Optional": null
                    }
                  }
                },
                "locator": 149
              }
            ],
            "open": [
              {
                "inner": {
                  "Return": {
                    "expression": {
                      "Optional": null
                    }
                  }
                },
                "locator": 174
              }
            ],
            "policy": [],
            "recall": []
          },
          "locator": 109
        },
        "version": 1
      }
    ],
    "cmd_fields": [
      {
        "value": null,
        "version": 0
      }
    ],
    "effects": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "inner": {
            "identifier": "Effect1",
            "items": [
              {
                "Field": {
                  "identifier": "field1",
                  "field_type": "Int",
                  "dynamic": false
                }
              },
              {
                "Field": {
                  "identifier": "field2",
                  "field_type": "String",
                  "dynamic": false
                }
              }
            ]
          },
          "locator": 191
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "identifier": "Effect2",
            "items": []
          },
          "locator": 245
        },
        "version": 1
      }
    ],
    "effect_fields": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "Field": {
            "identifier": "field1",
            "field_type": "Int",
            "dynamic": false
          }
        },
        "version": 1
      },
      {
        "value": {
          "Field": {
            "identifier": "field2",
            "field_type": "String",
            "dynamic": false
          }
        },
        "version": 1
      }
    ],
    "enums": [
      {
        "value": null,
        "version": 0
      }
    ],
    "facts": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "inner": {
            "immutable": false,
            "identifier": "Fact1",
            "key": [
              {
                "identifier": "a",
                "field_type": "Int"
              },
              {
                "identifier": "b",
                "field_type": "String"
              }
            ],
            "value": [
              {
                "identifier": "c",
                "field_type": "Bool"
              }
            ]
          },
          "locator": 283
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "immutable": false,
            "identifier": "Fact2",
            "key": [],
            "value": []
          },
          "locator": 321
        },
        "version": 1
      }
    ],
    "fact_keys": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "identifier": "a",
          "field_type": "Int"
        },
        "version": 1
      },
      {
        "value": {
          "identifier": "b",
          "field_type": "String"
        },
        "version": 1
      }
    ],
    "fact_vals": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "identifier": "c",
          "field_type": "Bool"
        },
        "version": 1
      }
    ],
    "finish_funcs": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "inner": {
            "identifier": "func4",
            "arguments": [],
            "statements": []
          },
          "locator": 368
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "identifier": "func5",
            "arguments": [],
            "statements": [
              {
                "inner": {
                  "FunctionCall": {
                    "identifier": "func4",
                    "arguments": []
                  }
                },
                "locator": 425
              },
              {
                "inner": {
                  "Delete": {
                    "fact": {
                      "identifier": "Fact1",
                      "key_fields": [
                        [
                          "a",
                          {
                            "Expression": {
                              "Int": 42
                            }
                          }
                        ],
                        [
                          "b",
                          {
                            "Expression": {
                              "String": "test"
                            }
                          }
                        ]
                      ],
                      "value_fields": null
                    }
                  }
                },
                "locator": 437
              }
            ]
          },
          "locator": 395
        },
        "version": 1
      }
    ],
    "finish_func_args": [
      {
        "value": null,
        "version": 0
      }
    ],
    "funcs": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "inner": {
            "identifier": "func1",
            "arguments": [],
            "return_type": "Int",
            "statements": [
              {
                "inner": {
                  "Return": {
                    "expression": {
                      "Int": 42
                    }
                  }
                },
                "locator": 523
              }
            ]
          },
          "locator": 500
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "identifier": "func2",
            "arguments": [],
            "return_type": "Bool",
            "statements": [
              {
                "inner": {
                  "Return": {
                    "expression": {
                      "Bool": true
                    }
                  }
                },
                "locator": 559
              }
            ]
          },
          "locator": 535
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "identifier": "func3",
            "arguments": [],
            "return_type": "Int",
            "statements": [
              {
                "inner": {
                  "Return": {
                    "expression": {
                      "FunctionCall": {
                        "identifier": "func1",
                        "arguments": []
                      }
                    }
                  }
                },
                "locator": 596
              }
            ]
          },
          "locator": 573
        },
        "version": 1
      }
    ],
    "func_args": [
      {
        "value": null,
        "version": 0
      }
    ],
    "global_lets": [
      {
        "value": null,
        "version": 0
      }
    ],
    "structs": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "inner": {
            "identifier": "Struct1",
            "items": [
              {
                "Field": {
                  "identifier": "field1",
                  "field_type": "Bool"
                }
              },
              {
                "Field": {
                  "identifier": "field2",
                  "field_type": "Int"
                }
              }
            ]
          },
          "locator": 614
        },
        "version": 1
      }
    ],
    "struct_fields": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "Field": {
            "identifier": "field1",
            "field_type": "Bool"
          }
        },
        "version": 1
      },
      {
        "value": {
          "Field": {
            "identifier": "field2",
            "field_type": "Int"
          }
        },
        "version": 1
      }
    ],
    "stmts": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "inner": {
            "ActionCall": {
              "identifier": "action1",
              "arguments": []
            }
          },
          "locator": 49
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "Publish": {
              "NamedStruct": {
                "identifier": "Cmd1",
                "fields": []
              }
            }
          },
          "locator": 70
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "Return": {
              "expression": {
                "Optional": null
              }
            }
          },
          "locator": 149
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "Return": {
              "expression": {
                "Optional": null
              }
            }
          },
          "locator": 174
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "FunctionCall": {
              "identifier": "func4",
              "arguments": []
            }
          },
          "locator": 425
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "Delete": {
              "fact": {
                "identifier": "Fact1",
                "key_fields": [
                  [
                    "a",
                    {
                      "Expression": {
                        "Int": 42
                      }
                    }
                  ],
                  [
                    "b",
                    {
                      "Expression": {
                        "String": "test"
                      }
                    }
                  ]
                ],
                "value_fields": null
              }
            }
          },
          "locator": 437
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "Return": {
              "expression": {
                "Int": 42
              }
            }
          },
          "locator": 523
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "Return": {
              "expression": {
                "Bool": true
              }
            }
          },
          "locator": 559
        },
        "version": 1
      },
      {
        "value": {
          "inner": {
            "Return": {
              "expression": {
                "FunctionCall": {
                  "identifier": "func1",
                  "arguments": []
                }
              }
            }
          },
          "locator": 596
        },
        "version": 1
      }
    ],
    "exprs": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": {
          "NamedStruct": {
            "identifier": "Cmd1",
            "fields": []
          }
        },
        "version": 1
      },
      {
        "value": {
          "Optional": null
        },
        "version": 1
      },
      {
        "value": {
          "Optional": null
        },
        "version": 1
      },
      {
        "value": {
          "Int": 42
        },
        "version": 1
      },
      {
        "value": {
          "String": "test"
        },
        "version": 1
      },
      {
        "value": {
          "Int": 42
        },
        "version": 1
      },
      {
        "value": {
          "Bool": true
        },
        "version": 1
      },
      {
        "value": {
          "FunctionCall": {
            "identifier": "func1",
            "arguments": []
          }
        },
        "version": 1
      }
    ],
    "idents": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": "action1",
        "version": 1
      },
      {
        "value": "action2",
        "version": 1
      },
      {
        "value": "x",
        "version": 1
      },
      {
        "value": "action1",
        "version": 1
      },
      {
        "value": "Cmd1",
        "version": 1
      },
      {
        "value": "action3",
        "version": 1
      },
      {
        "value": "Cmd1",
        "version": 1
      },
      {
        "value": "Effect1",
        "version": 1
      },
      {
        "value": "field1",
        "version": 1
      },
      {
        "value": "field2",
        "version": 1
      },
      {
        "value": "Effect2",
        "version": 1
      },
      {
        "value": "Fact1",
        "version": 1
      },
      {
        "value": "a",
        "version": 1
      },
      {
        "value": "b",
        "version": 1
      },
      {
        "value": "c",
        "version": 1
      },
      {
        "value": "Fact2",
        "version": 1
      },
      {
        "value": "func4",
        "version": 1
      },
      {
        "value": "func5",
        "version": 1
      },
      {
        "value": "func4",
        "version": 1
      },
      {
        "value": "Fact1",
        "version": 1
      },
      {
        "value": "a",
        "version": 1
      },
      {
        "value": "b",
        "version": 1
      },
      {
        "value": "func1",
        "version": 1
      },
      {
        "value": "func2",
        "version": 1
      },
      {
        "value": "func3",
        "version": 1
      },
      {
        "value": "func1",
        "version": 1
      },
      {
        "value": "Struct1",
        "version": 1
      },
      {
        "value": "field1",
        "version": 1
      },
      {
        "value": "field2",
        "version": 1
      }
    ],
    "blocks": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": [],
        "version": 1
      },
      {
        "value": [
          {
            "inner": {
              "ActionCall": {
                "identifier": "action1",
                "arguments": []
              }
            },
            "locator": 49
          },
          {
            "inner": {
              "Publish": {
                "NamedStruct": {
                  "identifier": "Cmd1",
                  "fields": []
                }
              }
            },
            "locator": 70
          }
        ],
        "version": 1
      },
      {
        "value": [],
        "version": 1
      },
      {
        "value": [
          {
            "inner": {
              "Return": {
                "expression": {
                  "Optional": null
                }
              }
            },
            "locator": 149
          }
        ],
        "version": 1
      },
      {
        "value": [
          {
            "inner": {
              "Return": {
                "expression": {
                  "Optional": null
                }
              }
            },
            "locator": 174
          }
        ],
        "version": 1
      },
      {
        "value": [],
        "version": 1
      },
      {
        "value": [],
        "version": 1
      },
      {
        "value": [],
        "version": 1
      },
      {
        "value": [
          {
            "inner": {
              "FunctionCall": {
                "identifier": "func4",
                "arguments": []
              }
            },
            "locator": 425
          },
          {
            "inner": {
              "Delete": {
                "fact": {
                  "identifier": "Fact1",
                  "key_fields": [
                    [
                      "a",
                      {
                        "Expression": {
                          "Int": 42
                        }
                      }
                    ],
                    [
                      "b",
                      {
                        "Expression": {
                          "String": "test"
                        }
                      }
                    ]
                  ],
                  "value_fields": null
                }
              }
            },
            "locator": 437
          }
        ],
        "version": 1
      },
      {
        "value": [
          {
            "inner": {
              "Return": {
                "expression": {
                  "Int": 42
                }
              }
            },
            "locator": 523
          }
        ],
        "version": 1
      },
      {
        "value": [
          {
            "inner": {
              "Return": {
                "expression": {
                  "Bool": true
                }
              }
            },
            "locator": 559
          }
        ],
        "version": 1
      },
      {
        "value": [
          {
            "inner": {
              "Return": {
                "expression": {
                  "FunctionCall": {
                    "identifier": "func1",
                    "arguments": []
                  }
                }
              }
            },
            "locator": 596
          }
        ],
        "version": 1
      }
    ],
    "types": [
      {
        "value": null,
        "version": 0
      },
      {
        "value": "Int",
        "version": 1
      },
      {
        "value": "Int",
        "version": 1
      },
      {
        "value": "String",
        "version": 1
      },
      {
        "value": "Int",
        "version": 1
      },
      {
        "value": "String",
        "version": 1
      },
      {
        "value": "Bool",
        "version": 1
      },
      {
        "value": "Int",
        "version": 1
      },
      {
        "value": "Bool",
        "version": 1
      },
      {
        "value": "Int",
        "version": 1
      },
      {
        "value": "Bool",
        "version": 1
      },
      {
        "value": "Int",
        "version": 1
      }
    ]
  }
}
