---
source: crates/aranya-policy-lang/src/lang/parse/tests.rs
expression: policy
---
Policy {
    version: V2,
    ffi_imports: [],
    facts: [],
    actions: [
        ActionDefinition {
            persistence: Persistent,
            identifier: Ident {
                name: "foo",
                span: 12..15,
            },
            arguments: [],
            statements: [
                Statement {
                    kind: Let(
                        LetStatement {
                            identifier: Ident {
                                name: "x",
                                span: 32..33,
                            },
                            expression: Expression {
                                kind: Block(
                                    [
                                        Statement {
                                            kind: Let(
                                                LetStatement {
                                                    identifier: Ident {
                                                        name: "a",
                                                        span: 54..55,
                                                    },
                                                    expression: Expression {
                                                        kind: Int(
                                                            3,
                                                        ),
                                                        span: 58..59,
                                                    },
                                                },
                                            ),
                                            span: 50..72,
                                        },
                                        Statement {
                                            kind: Let(
                                                LetStatement {
                                                    identifier: Ident {
                                                        name: "b",
                                                        span: 76..77,
                                                    },
                                                    expression: Expression {
                                                        kind: Int(
                                                            4,
                                                        ),
                                                        span: 80..81,
                                                    },
                                                },
                                            ),
                                            span: 72..94,
                                        },
                                    ],
                                    Expression {
                                        kind: Unwrap(
                                            Expression {
                                                kind: FunctionCall(
                                                    FunctionCall {
                                                        identifier: Ident {
                                                            name: "saturating_add",
                                                            span: 103..117,
                                                        },
                                                        arguments: [
                                                            Expression {
                                                                kind: Identifier(
                                                                    Ident {
                                                                        name: "a",
                                                                        span: 118..119,
                                                                    },
                                                                ),
                                                                span: 118..119,
                                                            },
                                                            Expression {
                                                                kind: Identifier(
                                                                    Ident {
                                                                        name: "b",
                                                                        span: 121..122,
                                                                    },
                                                                ),
                                                                span: 121..122,
                                                            },
                                                        ],
                                                    },
                                                ),
                                                span: 103..123,
                                            },
                                        ),
                                        span: 96..123,
                                    },
                                ),
                                span: 36..133,
                            },
                        },
                    ),
                    span: 28..138,
                },
            ],
            span: 5..139,
        },
    ],
    effects: [],
    structs: [],
    enums: [],
    commands: [],
    functions: [],
    finish_functions: [],
    global_lets: [],
    text: "\n    action foo() {\n        let x = {\n            let a = 3\n            let b = 4\n            : unwrap saturating_add(a, b)\n        }\n    }\n    ",
}
