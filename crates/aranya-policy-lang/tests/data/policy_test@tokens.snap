---
source: crates/aranya-policy-lang/tests/tests.rs
expression: tokens
---
[
    (
        Fact,
        112..116,
    ),
    (
        Identifier(
            "F",
        ),
        117..118,
    ),
    (
        OpenBracket,
        118..119,
    ),
    (
        Identifier(
            "v",
        ),
        119..120,
    ),
    (
        Identifier(
            "string",
        ),
        121..127,
    ),
    (
        CloseBracket,
        127..128,
    ),
    (
        Arrow,
        128..130,
    ),
    (
        OpenBrace,
        130..131,
    ),
    (
        Identifier(
            "x",
        ),
        131..132,
    ),
    (
        Identifier(
            "int",
        ),
        133..136,
    ),
    (
        Comma,
        136..137,
    ),
    (
        Identifier(
            "y",
        ),
        138..139,
    ),
    (
        Identifier(
            "bool",
        ),
        140..144,
    ),
    (
        CloseBrace,
        144..145,
    ),
    (
        Action,
        147..153,
    ),
    (
        Identifier(
            "add2",
        ),
        154..158,
    ),
    (
        OpenParen,
        158..159,
    ),
    (
        Identifier(
            "x",
        ),
        159..160,
    ),
    (
        Identifier(
            "int",
        ),
        161..164,
    ),
    (
        Comma,
        164..165,
    ),
    (
        Identifier(
            "y",
        ),
        166..167,
    ),
    (
        Identifier(
            "int",
        ),
        168..171,
    ),
    (
        CloseParen,
        171..172,
    ),
    (
        OpenBrace,
        173..174,
    ),
    (
        Let,
        179..182,
    ),
    (
        Identifier(
            "obj",
        ),
        183..186,
    ),
    (
        Equal,
        187..188,
    ),
    (
        Identifier(
            "Add",
        ),
        189..192,
    ),
    (
        OpenBrace,
        193..194,
    ),
    (
        Identifier(
            "count",
        ),
        203..208,
    ),
    (
        Colon,
        208..209,
    ),
    (
        Identifier(
            "x",
        ),
        210..211,
    ),
    (
        Comma,
        211..212,
    ),
    (
        CloseBrace,
        217..218,
    ),
    (
        Publish,
        223..230,
    ),
    (
        Identifier(
            "obj",
        ),
        231..234,
    ),
    (
        CloseBrace,
        235..236,
    ),
    (
        Effect,
        238..244,
    ),
    (
        Identifier(
            "Added",
        ),
        245..250,
    ),
    (
        OpenBrace,
        251..252,
    ),
    (
        Identifier(
            "x",
        ),
        257..258,
    ),
    (
        Identifier(
            "int",
        ),
        259..262,
    ),
    (
        Dynamic,
        263..270,
    ),
    (
        Comma,
        270..271,
    ),
    (
        Identifier(
            "y",
        ),
        276..277,
    ),
    (
        Identifier(
            "int",
        ),
        278..281,
    ),
    (
        Comma,
        281..282,
    ),
    (
        CloseBrace,
        283..284,
    ),
    (
        Command,
        286..293,
    ),
    (
        Identifier(
            "Add",
        ),
        294..297,
    ),
    (
        OpenBrace,
        298..299,
    ),
    (
        Fields,
        304..310,
    ),
    (
        OpenBrace,
        311..312,
    ),
    (
        Identifier(
            "count",
        ),
        321..326,
    ),
    (
        Identifier(
            "int",
        ),
        327..330,
    ),
    (
        CloseBrace,
        335..336,
    ),
    (
        Policy,
        342..348,
    ),
    (
        OpenBrace,
        349..350,
    ),
    (
        Let,
        359..362,
    ),
    (
        Identifier(
            "envelope_id",
        ),
        363..374,
    ),
    (
        Equal,
        375..376,
    ),
    (
        Identifier(
            "envelope",
        ),
        377..385,
    ),
    (
        DoubleColon,
        385..387,
    ),
    (
        Identifier(
            "command_id",
        ),
        387..397,
    ),
    (
        OpenParen,
        397..398,
    ),
    (
        Identifier(
            "envelope",
        ),
        398..406,
    ),
    (
        CloseParen,
        406..407,
    ),
    (
        Let,
        416..419,
    ),
    (
        Identifier(
            "author",
        ),
        420..426,
    ),
    (
        Equal,
        427..428,
    ),
    (
        Identifier(
            "envelope",
        ),
        429..437,
    ),
    (
        DoubleColon,
        437..439,
    ),
    (
        Identifier(
            "author_id",
        ),
        439..448,
    ),
    (
        OpenParen,
        448..449,
    ),
    (
        Identifier(
            "envelope",
        ),
        449..457,
    ),
    (
        CloseParen,
        457..458,
    ),
    (
        Let,
        467..470,
    ),
    (
        Identifier(
            "new_x",
        ),
        471..476,
    ),
    (
        Equal,
        477..478,
    ),
    (
        Identifier(
            "add2",
        ),
        479..483,
    ),
    (
        OpenParen,
        483..484,
    ),
    (
        Identifier(
            "x",
        ),
        484..485,
    ),
    (
        Comma,
        485..486,
    ),
    (
        Identifier(
            "count",
        ),
        487..492,
    ),
    (
        CloseParen,
        492..493,
    ),
    (
        Check,
        502..507,
    ),
    (
        Exists,
        508..514,
    ),
    (
        Identifier(
            "TestFact",
        ),
        515..523,
    ),
    (
        OpenBracket,
        523..524,
    ),
    (
        Identifier(
            "v",
        ),
        524..525,
    ),
    (
        Colon,
        525..526,
    ),
    (
        StringLit(
            "\"test\"",
        ),
        527..533,
    ),
    (
        CloseBracket,
        533..534,
    ),
    (
        Arrow,
        534..536,
    ),
    (
        OpenBrace,
        536..537,
    ),
    (
        CloseBrace,
        537..538,
    ),
    (
        Match,
        547..552,
    ),
    (
        Identifier(
            "x",
        ),
        553..554,
    ),
    (
        OpenBrace,
        555..556,
    ),
    (
        Number(
            0,
        ),
        569..570,
    ),
    (
        Arrow,
        571..573,
    ),
    (
        OpenBrace,
        574..575,
    ),
    (
        Check,
        592..597,
    ),
    (
        Identifier(
            "positive",
        ),
        598..606,
    ),
    (
        OpenParen,
        606..607,
    ),
    (
        Some,
        607..611,
    ),
    (
        OpenParen,
        611..612,
    ),
    (
        Identifier(
            "new_x",
        ),
        612..617,
    ),
    (
        CloseParen,
        617..618,
    ),
    (
        CloseParen,
        618..619,
    ),
    (
        CloseBrace,
        632..633,
    ),
    (
        Number(
            1,
        ),
        646..647,
    ),
    (
        Arrow,
        648..650,
    ),
    (
        OpenBrace,
        651..652,
    ),
    (
        Check,
        669..674,
    ),
    (
        Identifier(
            "positive",
        ),
        675..683,
    ),
    (
        OpenParen,
        683..684,
    ),
    (
        None,
        684..688,
    ),
    (
        CloseParen,
        688..689,
    ),
    (
        CloseBrace,
        702..703,
    ),
    (
        UnderScore,
        716..717,
    ),
    (
        Arrow,
        718..720,
    ),
    (
        OpenBrace,
        721..722,
    ),
    (
        CloseBrace,
        736..737,
    ),
    (
        CloseBrace,
        746..747,
    ),
    (
        If,
        757..759,
    ),
    (
        Identifier(
            "x",
        ),
        760..761,
    ),
    (
        EqualEqual,
        762..764,
    ),
    (
        Number(
            3,
        ),
        765..766,
    ),
    (
        OpenBrace,
        767..768,
    ),
    (
        Check,
        781..786,
    ),
    (
        Identifier(
            "new_x",
        ),
        787..792,
    ),
    (
        LessThan,
        793..794,
    ),
    (
        Number(
            10,
        ),
        795..797,
    ),
    (
        CloseBrace,
        806..807,
    ),
    (
        Let,
        817..820,
    ),
    (
        Identifier(
            "a",
        ),
        821..822,
    ),
    (
        Equal,
        823..824,
    ),
    (
        Identifier(
            "foo",
        ),
        825..828,
    ),
    (
        DoubleColon,
        828..830,
    ),
    (
        Identifier(
            "ext_func",
        ),
        830..838,
    ),
    (
        OpenParen,
        838..839,
    ),
    (
        Identifier(
            "x",
        ),
        839..840,
    ),
    (
        CloseParen,
        840..841,
    ),
    (
        Finish,
        851..857,
    ),
    (
        OpenBrace,
        858..859,
    ),
    (
        Create,
        872..878,
    ),
    (
        Identifier(
            "F",
        ),
        879..880,
    ),
    (
        OpenBracket,
        880..881,
    ),
    (
        Identifier(
            "v",
        ),
        881..882,
    ),
    (
        Colon,
        882..883,
    ),
    (
        StringLit(
            "\"hello\"",
        ),
        884..891,
    ),
    (
        CloseBracket,
        891..892,
    ),
    (
        Arrow,
        892..894,
    ),
    (
        OpenBrace,
        894..895,
    ),
    (
        Identifier(
            "x",
        ),
        895..896,
    ),
    (
        Colon,
        896..897,
    ),
    (
        Identifier(
            "x",
        ),
        898..899,
    ),
    (
        Comma,
        899..900,
    ),
    (
        Identifier(
            "y",
        ),
        901..902,
    ),
    (
        Colon,
        902..903,
    ),
    (
        Identifier(
            "saturating_sub",
        ),
        904..918,
    ),
    (
        OpenParen,
        918..919,
    ),
    (
        Number(
            0,
        ),
        919..920,
    ),
    (
        Comma,
        920..921,
    ),
    (
        Identifier(
            "x",
        ),
        922..923,
    ),
    (
        CloseParen,
        923..924,
    ),
    (
        CloseBrace,
        924..925,
    ),
    (
        Update,
        938..944,
    ),
    (
        Identifier(
            "F",
        ),
        945..946,
    ),
    (
        OpenBracket,
        946..947,
    ),
    (
        CloseBracket,
        947..948,
    ),
    (
        Arrow,
        948..950,
    ),
    (
        OpenBrace,
        950..951,
    ),
    (
        Identifier(
            "x",
        ),
        951..952,
    ),
    (
        Colon,
        952..953,
    ),
    (
        Identifier(
            "x",
        ),
        954..955,
    ),
    (
        CloseBrace,
        955..956,
    ),
    (
        Identifier(
            "to",
        ),
        957..959,
    ),
    (
        OpenBrace,
        960..961,
    ),
    (
        Identifier(
            "x",
        ),
        961..962,
    ),
    (
        Colon,
        962..963,
    ),
    (
        Identifier(
            "new_x",
        ),
        964..969,
    ),
    (
        CloseBrace,
        969..970,
    ),
    (
        Delete,
        983..989,
    ),
    (
        Identifier(
            "F",
        ),
        990..991,
    ),
    (
        OpenBracket,
        991..992,
    ),
    (
        Identifier(
            "v",
        ),
        992..993,
    ),
    (
        Colon,
        993..994,
    ),
    (
        StringLit(
            "\"hello\"",
        ),
        995..1002,
    ),
    (
        CloseBracket,
        1002..1003,
    ),
    (
        Emit,
        1016..1020,
    ),
    (
        Identifier(
            "Added",
        ),
        1021..1026,
    ),
    (
        OpenBrace,
        1027..1028,
    ),
    (
        Identifier(
            "x",
        ),
        1045..1046,
    ),
    (
        Colon,
        1046..1047,
    ),
    (
        Identifier(
            "new_x",
        ),
        1048..1053,
    ),
    (
        Comma,
        1053..1054,
    ),
    (
        Identifier(
            "y",
        ),
        1071..1072,
    ),
    (
        Colon,
        1072..1073,
    ),
    (
        Identifier(
            "count",
        ),
        1074..1079,
    ),
    (
        Comma,
        1079..1080,
    ),
    (
        CloseBrace,
        1093..1094,
    ),
    (
        CloseBrace,
        1103..1104,
    ),
    (
        CloseBrace,
        1109..1110,
    ),
    (
        Recall,
        1115..1121,
    ),
    (
        OpenBrace,
        1122..1123,
    ),
    (
        Let,
        1132..1135,
    ),
    (
        Identifier(
            "envelope_id",
        ),
        1136..1147,
    ),
    (
        Equal,
        1148..1149,
    ),
    (
        Identifier(
            "envelope",
        ),
        1150..1158,
    ),
    (
        DoubleColon,
        1158..1160,
    ),
    (
        Identifier(
            "command_id",
        ),
        1160..1170,
    ),
    (
        OpenParen,
        1170..1171,
    ),
    (
        Identifier(
            "envelope",
        ),
        1171..1179,
    ),
    (
        CloseParen,
        1179..1180,
    ),
    (
        Let,
        1189..1192,
    ),
    (
        Identifier(
            "author",
        ),
        1193..1199,
    ),
    (
        Equal,
        1200..1201,
    ),
    (
        Identifier(
            "envelope",
        ),
        1202..1210,
    ),
    (
        DoubleColon,
        1210..1212,
    ),
    (
        Identifier(
            "author_id",
        ),
        1212..1221,
    ),
    (
        OpenParen,
        1221..1222,
    ),
    (
        Identifier(
            "envelope",
        ),
        1222..1230,
    ),
    (
        CloseParen,
        1230..1231,
    ),
    (
        Let,
        1240..1243,
    ),
    (
        Identifier(
            "new_x",
        ),
        1244..1249,
    ),
    (
        Equal,
        1250..1251,
    ),
    (
        Identifier(
            "add2",
        ),
        1252..1256,
    ),
    (
        OpenParen,
        1256..1257,
    ),
    (
        Identifier(
            "x",
        ),
        1257..1258,
    ),
    (
        Comma,
        1258..1259,
    ),
    (
        Identifier(
            "count",
        ),
        1260..1265,
    ),
    (
        CloseParen,
        1265..1266,
    ),
    (
        Finish,
        1275..1281,
    ),
    (
        OpenBrace,
        1282..1283,
    ),
    (
        Create,
        1296..1302,
    ),
    (
        Identifier(
            "F",
        ),
        1303..1304,
    ),
    (
        OpenBracket,
        1304..1305,
    ),
    (
        Identifier(
            "v",
        ),
        1305..1306,
    ),
    (
        Colon,
        1306..1307,
    ),
    (
        StringLit(
            "\"hello\"",
        ),
        1308..1315,
    ),
    (
        CloseBracket,
        1315..1316,
    ),
    (
        Arrow,
        1316..1318,
    ),
    (
        OpenBrace,
        1318..1319,
    ),
    (
        Identifier(
            "x",
        ),
        1319..1320,
    ),
    (
        Colon,
        1320..1321,
    ),
    (
        Identifier(
            "x",
        ),
        1322..1323,
    ),
    (
        Comma,
        1323..1324,
    ),
    (
        Identifier(
            "y",
        ),
        1325..1326,
    ),
    (
        Colon,
        1326..1327,
    ),
    (
        Identifier(
            "saturating_sub",
        ),
        1328..1342,
    ),
    (
        OpenParen,
        1342..1343,
    ),
    (
        Number(
            0,
        ),
        1343..1344,
    ),
    (
        Comma,
        1344..1345,
    ),
    (
        Identifier(
            "x",
        ),
        1346..1347,
    ),
    (
        CloseParen,
        1347..1348,
    ),
    (
        CloseBrace,
        1348..1349,
    ),
    (
        Update,
        1362..1368,
    ),
    (
        Identifier(
            "F",
        ),
        1369..1370,
    ),
    (
        OpenBracket,
        1370..1371,
    ),
    (
        CloseBracket,
        1371..1372,
    ),
    (
        Arrow,
        1372..1374,
    ),
    (
        OpenBrace,
        1374..1375,
    ),
    (
        Identifier(
            "x",
        ),
        1375..1376,
    ),
    (
        Colon,
        1376..1377,
    ),
    (
        Identifier(
            "x",
        ),
        1378..1379,
    ),
    (
        CloseBrace,
        1379..1380,
    ),
    (
        Identifier(
            "to",
        ),
        1381..1383,
    ),
    (
        OpenBrace,
        1384..1385,
    ),
    (
        Identifier(
            "x",
        ),
        1385..1386,
    ),
    (
        Colon,
        1386..1387,
    ),
    (
        Identifier(
            "new_x",
        ),
        1388..1393,
    ),
    (
        CloseBrace,
        1393..1394,
    ),
    (
        Delete,
        1407..1413,
    ),
    (
        Identifier(
            "F",
        ),
        1414..1415,
    ),
    (
        OpenBracket,
        1415..1416,
    ),
    (
        Identifier(
            "v",
        ),
        1416..1417,
    ),
    (
        Colon,
        1417..1418,
    ),
    (
        StringLit(
            "\"hello\"",
        ),
        1419..1426,
    ),
    (
        CloseBracket,
        1426..1427,
    ),
    (
        Emit,
        1440..1444,
    ),
    (
        Identifier(
            "Added",
        ),
        1445..1450,
    ),
    (
        OpenBrace,
        1451..1452,
    ),
    (
        Identifier(
            "x",
        ),
        1469..1470,
    ),
    (
        Colon,
        1470..1471,
    ),
    (
        Identifier(
            "new_x",
        ),
        1472..1477,
    ),
    (
        Comma,
        1477..1478,
    ),
    (
        Identifier(
            "y",
        ),
        1495..1496,
    ),
    (
        Colon,
        1496..1497,
    ),
    (
        Identifier(
            "count",
        ),
        1498..1503,
    ),
    (
        Comma,
        1503..1504,
    ),
    (
        CloseBrace,
        1517..1518,
    ),
    (
        CloseBrace,
        1527..1528,
    ),
    (
        CloseBrace,
        1533..1534,
    ),
    (
        CloseBrace,
        1535..1536,
    ),
    (
        Identifier(
            "function",
        ),
        1538..1546,
    ),
    (
        Identifier(
            "positive",
        ),
        1547..1555,
    ),
    (
        OpenParen,
        1555..1556,
    ),
    (
        Identifier(
            "v",
        ),
        1556..1557,
    ),
    (
        Option,
        1558..1564,
    ),
    (
        OpenBracket,
        1564..1565,
    ),
    (
        Identifier(
            "int",
        ),
        1565..1568,
    ),
    (
        CloseBracket,
        1568..1569,
    ),
    (
        CloseParen,
        1569..1570,
    ),
    (
        Identifier(
            "bool",
        ),
        1571..1575,
    ),
    (
        OpenBrace,
        1576..1577,
    ),
    (
        Let,
        1582..1585,
    ),
    (
        Identifier(
            "x",
        ),
        1586..1587,
    ),
    (
        Equal,
        1588..1589,
    ),
    (
        Unwrap,
        1590..1596,
    ),
    (
        Identifier(
            "v",
        ),
        1597..1598,
    ),
    (
        Return,
        1603..1609,
    ),
    (
        Identifier(
            "x",
        ),
        1610..1611,
    ),
    (
        GreaterThan,
        1612..1613,
    ),
    (
        Number(
            0,
        ),
        1614..1615,
    ),
    (
        CloseBrace,
        1616..1617,
    ),
    (
        Finish,
        1619..1625,
    ),
    (
        Identifier(
            "function",
        ),
        1626..1634,
    ),
    (
        Identifier(
            "next",
        ),
        1635..1639,
    ),
    (
        OpenParen,
        1639..1640,
    ),
    (
        Identifier(
            "x",
        ),
        1640..1641,
    ),
    (
        Identifier(
            "int",
        ),
        1642..1645,
    ),
    (
        CloseParen,
        1645..1646,
    ),
    (
        OpenBrace,
        1647..1648,
    ),
    (
        Create,
        1653..1659,
    ),
    (
        Identifier(
            "Next",
        ),
        1660..1664,
    ),
    (
        OpenBracket,
        1664..1665,
    ),
    (
        CloseBracket,
        1665..1666,
    ),
    (
        Arrow,
        1666..1668,
    ),
    (
        OpenBrace,
        1668..1669,
    ),
    (
        CloseBrace,
        1669..1670,
    ),
    (
        CloseBrace,
        1671..1672,
    ),
    (
        Ephemeral,
        1710..1719,
    ),
    (
        Command,
        1720..1727,
    ),
    (
        Identifier(
            "C",
        ),
        1728..1729,
    ),
    (
        OpenBrace,
        1730..1731,
    ),
    (
        Fields,
        1736..1742,
    ),
    (
        OpenBrace,
        1743..1744,
    ),
    (
        Identifier(
            "x",
        ),
        1753..1754,
    ),
    (
        Identifier(
            "int",
        ),
        1755..1758,
    ),
    (
        CloseBrace,
        1763..1764,
    ),
    (
        CloseBrace,
        1765..1766,
    ),
    (
        Ephemeral,
        1768..1777,
    ),
    (
        Action,
        1778..1784,
    ),
    (
        Identifier(
            "a",
        ),
        1785..1786,
    ),
    (
        OpenParen,
        1786..1787,
    ),
    (
        CloseParen,
        1787..1788,
    ),
    (
        OpenBrace,
        1789..1790,
    ),
    (
        CloseBrace,
        1790..1791,
    ),
]
